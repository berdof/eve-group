{"mtime":1380091597,"js":"(function() {\n  var Eve;\n\n  Eve = (function() {\n\n    Eve.prototype.errorClass = \"error\";\n\n    Eve.prototype.eventHandlers = {\n      formSubmitClick: function(e) {\n        var form, isValid, self;\n        self = e.data.self;\n        form = $(this).closest(\"form\");\n        isValid = self.validate(form);\n        if (isValid) {\n          self.sendDataAsync(form).done(function(data) {\n            form.find(\".form__success\").fadeIn(350);\n          });\n        }\n        return false;\n      },\n      hidePopupClick: function(e) {\n        $(\".modal, .modal-overlay\").fadeOut();\n      },\n      showPopupClick: function(e) {\n        var selector;\n        selector = $(this).data(\"modalShow\");\n        $(\"\" + selector + \", .modal-overlay\").fadeIn();\n      },\n      languageClick: function() {\n        $(this).closest(\"ul\").toggleClass(\"open\");\n      }\n    };\n\n    Eve.prototype.attachEvents = function() {\n      var self;\n      self = this;\n      $(\".form input[type=submit]\").on('click', {\n        self: self\n      }, self.eventHandlers.formSubmitClick);\n      $(\".modal-overlay, .modal__close\").on('click', {\n        self: self\n      }, self.eventHandlers.hidePopupClick);\n      $(\"[data-modal-show]\").on('click', {\n        self: self\n      }, self.eventHandlers.showPopupClick);\n      $(\".language li\").on('click', {\n        self: self\n      }, self.eventHandlers.languageClick);\n    };\n\n    Eve.prototype.validate = function(form) {\n      var hasErrors, inputs, self, validateGeneral, validateOnEmail, validateOnEmpty, validateOnPhone;\n      hasErrors = 0;\n      inputs = form.find(\"[data-validate]\");\n      self = this;\n      validateGeneral = function(input, flag) {\n        if (flag) {\n          input[\"removeClass\"](self.errorClass);\n        } else {\n          hasErrors++;\n          input[\"addClass\"](self.errorClass);\n        }\n      };\n      validateOnEmpty = function(input) {\n        var inputLength, length;\n        length = 2;\n        inputLength = input.val().length;\n        validateGeneral(input, inputLength >= length);\n      };\n      validateOnEmail = function(input) {\n        var res;\n        res = /^([a-zA-Z0-9+_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n        validateGeneral(input, res.test(input.val()));\n      };\n      validateOnPhone = function(input) {\n        var regex;\n        regex = /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/;\n        validateGeneral(input, regex.test(input.val()));\n      };\n      inputs.each(function(i, el) {\n        var $el;\n        $el = $(el);\n        switch ($el.attr(\"data-validate\")) {\n          case \"empty\":\n            validateOnEmpty($el);\n            break;\n          case \"email\":\n            validateOnEmail($el);\n            break;\n          case \"tel\":\n            validateOnPhone($el);\n            break;\n          default:\n            validateOnEmpty($el);\n        }\n      });\n      return hasErrors === 0;\n    };\n\n    /*\n      * ajax sending form data\n      * @param form - form that needs to send, action attr needed\n    */\n\n\n    Eve.prototype.sendDataAsync = function(form, dataType, showStatusText, actionButton) {\n      var data, originText, self, submit, url;\n      if (dataType == null) {\n        dataType = \"text\";\n      }\n      if (showStatusText == null) {\n        showStatusText = \"Sending ...\";\n      }\n      if (actionButton == null) {\n        actionButton = \"input[type=submit]\";\n      }\n      data = form.serialize();\n      url = form.attr(\"action\");\n      submit = form.find(actionButton);\n      originText = submit.val();\n      submit.val(showStatusText);\n      self = this;\n      return $.ajax({\n        \"type\": \"get\",\n        \"url\": url,\n        \"data\": data,\n        \"dataType\": dataType,\n        success: function(response) {\n          submit.val(originText);\n        },\n        error: function(err) {\n          console.log(err);\n          submit.val(originText);\n        }\n      });\n    };\n\n    Eve.prototype.initMainSlider = function() {\n      $(\".slider\").jCarouselLite({\n        visible: 1,\n        start: 0,\n        scroll: 1,\n        speed: 600,\n        auto: false,\n        autoWidth: true,\n        responsive: true,\n        circular: true,\n        btnNext: \".slider__next\",\n        btnPrev: \".slider__prev\"\n      });\n    };\n\n    Eve.prototype.initBrandsSlider = function() {\n      $(\".brands-slider\").jCarouselLite({\n        visible: 11,\n        start: 0,\n        scroll: 1,\n        auto: true,\n        speed: 300,\n        autoWidth: true,\n        responsive: true\n      });\n    };\n\n    Eve.prototype.initPlaceholder = function() {\n      if (!Modernizr.input.placeholder) {\n        $(\"[placeholder]\").focus(function() {\n          var input;\n          input = $(this);\n          if (input.val() === input.attr(\"placeholder\")) {\n            input.val(\"\");\n            return input.removeClass(\"placeholder\");\n          }\n        }).blur(function() {\n          var input;\n          input = $(this);\n          if (input.val() === \"\" || input.val() === input.attr(\"placeholder\")) {\n            input.addClass(\"placeholder\");\n            return input.val(input.attr(\"placeholder\"));\n          }\n        }).blur();\n        $(\"[placeholder]\").parents(\"form\").submit(function() {\n          return $(this).find(\"[placeholder]\").each(function() {\n            var input;\n            input = $(this);\n            if (input.val() === input.attr(\"placeholder\")) {\n              return input.val(\"\");\n            }\n          });\n        });\n      }\n    };\n\n    function Eve() {\n      var self;\n      self = this;\n      self.initMainSlider();\n      self.initBrandsSlider();\n      self.attachEvents();\n      self.initPlaceholder();\n    }\n\n    return Eve;\n\n  })();\n\n  $(document).ready(function() {\n    $.fn.Eve = new Eve;\n  });\n\n}).call(this);\n"}